{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,mGAYA,EAAAD,EAAAE,oBAAmBC,EAAAC,MAAMC,IAClBA,GAGH,EAAAC,EAAAC,gBACGC,MAAKC,IAGJ,GAFAC,EAAAC,KAAKC,aAAaC,YAAc,qBAChCC,QAAQC,IAAI,WAAYN,IACnBA,EAAU,CACb,MAAMO,EAAS,sDAIf,YAHAC,SACGC,cAAc,sBACdC,mBAAmB,YAAaH,EAErC,CACA,MAAMI,EAAQ,GAEdC,OAAOC,QAAQb,GAAUc,SAAQ,EAAEC,EAAKC,MAEtCL,EAAMM,MAAMD,EAAA,IAId,MAAME,EAAc,GACdC,EAAWR,EAAMS,KAAIC,IAAQ,EAAAC,EAAAC,iBAAgBF,KAEnDG,QAAQC,IAAIN,GAAUpB,MAAK2B,IAEzB,IAAK,MAAMC,OAAEA,KAAYD,EACvBR,EAAYD,KAAKU,EAAO,IAE1BtB,QAAQC,IAAIY,IACZ,EAAAU,EAAAC,MAAKX,GACLjB,EAAAC,KAAKC,aAAaC,YAAc,uBAClC,IAUD0B,OAAMC,IACL1B,QAAQC,IAAIyB,EAAA,IA3ChBC,SAASC,QAAQ,IA4Cf","sources":["src/js/favorite-c.js"],"sourcesContent":["import { onAuthStateChanged } from '@firebase/auth';\nimport { auth } from './auth/api/auth';\nimport { main } from './pagination';\nimport { refs } from './gallery/refs/refs';\nimport { getCocktails } from './auth/api';\nimport { getCocktailById } from './modal-cocktail/api/api';\nimport './header';\n// import './gallery';\nimport './modal-cocktail';\nimport './header/mob-menu.js';\n// import './modal-ingredient';\n\nonAuthStateChanged(auth, user => {\n  if (!user) {\n    location.replace('/');\n  } else\n    getCocktails()\n      .then(response => {\n        refs.coctailTitel.textContent = 'Favorite cocktails';\n        console.log('response', response);\n        if (!response) {\n          const markup = `<p>You haven't added any favorite cocktails yet</p>`;\n          document\n            .querySelector('.gallery.container')\n            .insertAdjacentHTML('beforeend', markup);\n          return;\n        }\n        const array = [];\n        //  Получаем массив масива\n        Object.entries(response).forEach(([key, value]) => {\n          //Добавить key from firebase\n          array.push(+value);\n          // console.log(array);\n        });\n        // получаем массив\n        const arrayDrinks = [];\n        const promises = array.map(idEl => getCocktailById(idEl));\n        // console.log(promises);\n        Promise.all(promises).then(data => {\n          // console.log(data);\n          for (const { drinks } of data) {\n            arrayDrinks.push(drinks[0]);\n          }\n          console.log(arrayDrinks);\n          main(arrayDrinks);\n          refs.coctailTitel.textContent = 'Favorite cocktails';\n        });\n        // array.map(idEl => {\n        //   console.log(idEl);\n        //   getCocktailById(idEl).then(({ drinks }) => {\n        //     for (const el of drinks) {\n        //       arrayDrinks.push(el);\n        //     }\n        //   });\n        // });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n});\n"],"names":["$1iO0g","parcelRequire","onAuthStateChanged","$fy93h","auth","user","$fvTqB","getCocktails","then","response","$1lZvt","refs","coctailTitel","textContent","console","log","markup","document","querySelector","insertAdjacentHTML","array","Object","entries","forEach","key","value","push","arrayDrinks","promises","map","idEl","$ds8KB","getCocktailById","Promise","all","data","drinks","$2nhTy","main","catch","error","location","replace"],"version":3,"file":"favorites-c.310d4638.js.map"}