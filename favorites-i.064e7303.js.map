{"mappings":"oeACAA,EAAA,S,mECDAC,EAAAD,EAAA,SACOE,eAAeC,EAAoBC,GACxC,aAAaC,MAAM,GAAGJ,EAAAK,sCAAsCF,KACzDG,MAAKC,GAAYA,EAASC,SAC1BC,OAAMC,GAASC,QAAQC,IAAIF,IAChC,C,kBDOA,EAAAG,EAAAC,oBAAmBC,EAAAC,MAAOC,IACnBA,GAGL,EAAAC,EAAAC,cACGb,MAAKC,IAGJ,GAFAI,QAAQC,IAAI,WAAYL,GACxBa,EAAAC,KAAKC,aAAaC,YAAc,wBAC3BhB,EAAU,CACb,MAAMiB,EAAS,wDAIf,YAHAC,SACGC,cAAc,sBACdC,mBAAmB,YAAaH,EAErC,CACA,MAAMI,EAAQ,GAEdC,OAAOC,QAAQvB,GAAUwB,SAAQ,EAAEC,EAAKC,MAEtCL,EAAMM,KAAKD,GACXtB,QAAQC,IAAIgB,EAAA,IAEd,MAAMO,EAAe,GACfC,EAAWR,EAAMS,KAAIC,GAAQpC,EAAoBoC,KAEvDC,QAAQC,IAAIJ,GAAU9B,MAAKmC,IACxB9B,QAAQC,IAAI6B,GACb,IAAK,MAAMC,YAAEA,KAAiBD,EAC5BN,EAAaD,KAAKQ,EAAY,IAEhC/B,QAAQC,IAAIuB,IACZ,EAAAQ,EAAAC,MAAKT,EAAA,GACP,IAED1B,OAAMC,IACLC,QAAQC,IAAIF,EAAA,IAjCdmC,SAASC,QAAQ,IAkCjB","sources":["src/js/favorite-i.js","src/js/modal-ingredient/api/api.js"],"sourcesContent":["// import './gallery';\nimport './modal-cocktail';\n// import './modal-ingredient';\nimport './header/mob-menu.js';\nimport { onAuthStateChanged } from '@firebase/auth';\nimport { auth } from './auth/api/auth';\n// import { main } from './pagination';\nimport { refs } from './gallery/refs/refs';\nimport { getIngrids } from './auth/api';\nimport { getIngredientByName } from './modal-ingredient/api/api';\nimport { main } from './pagination';\n\nonAuthStateChanged(auth, (user) => {\n  if (!user) {\n    location.replace('/');\n  } else\n  getIngrids()\n    .then(response => {\n      console.log('response', response);\n      refs.coctailTitel.textContent = 'Favorite ingredients';\n      if (!response) {\n        const markup = `<p>You haven't added any favorite ingredients yet</p>`;\n        document\n          .querySelector('.gallery.container')\n          .insertAdjacentHTML('beforeend', markup);\n        return;\n      }\n      const array = [];\n      //       //  Получаем массив масива\n      Object.entries(response).forEach(([key, value]) => {\n        //         //Добавить key from firebase\n        array.push(value);\n        console.log(array);\n      });\n      const arrayIngrids = [];\n      const promises = array.map(name => getIngredientByName(name));\n      // console.log(promises);\n      Promise.all(promises).then(data => {\n         console.log(data);\n        for (const { ingredients } of data) {\n          arrayIngrids.push(ingredients[0]);\n        }\n        console.log(arrayIngrids);\n        main(arrayIngrids);\n      });\n    })\n    .catch(error => {\n      console.log(error);\n    });\n});","import { BASE_URL } from \"../../modal-cocktail/api/api\";\nexport async function getIngredientByName(str) {\n  return await fetch(`${BASE_URL}api/json/v1/1/search.php?i=${str}`)\n    .then(response => response.json())\n    .catch(error => console.log(error));\n}\n\nexport async function getIngredientByID(id) {\n  return await fetch(`${BASE_URL}api/json/v1/1/lookup.php?iid=${id}`)\n    .then(response => response.json())\n    .catch(error => console.log(error));\n}"],"names":["parcelRequire","$ds8KB","async","$87a6acf6b71743c2$export$d0fe09bed2656288","str","fetch","BASE_URL","then","response","json","catch","error","console","log","$1iO0g","onAuthStateChanged","$fy93h","auth","user","$fvTqB","getIngrids","$1lZvt","refs","coctailTitel","textContent","markup","document","querySelector","insertAdjacentHTML","array","Object","entries","forEach","key","value","push","arrayIngrids","promises","map","name","Promise","all","data","ingredients","$2nhTy","main","location","replace"],"version":3,"file":"favorites-i.064e7303.js.map"}