{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,gHAWA,EAAAD,EAAAE,oBAAmBC,EAAAC,MAAMC,IAClBA,GAGH,EAAAC,EAAAC,gBACGC,MAAKC,IAEJ,GADAC,EAAAC,KAAKC,aAAaC,YAAc,sBAC3BJ,EAAU,CACb,MAAMK,EAAS,sFAIf,YAHAC,SACGC,cAAc,sBACdC,mBAAmB,YAAaH,EAErC,CACA,MAAMI,EAAQ,GACdC,OAAOC,QAAQX,GAAUY,SAAQ,EAAEC,EAAKC,MACtCL,EAAMM,MAAMD,EAAA,IAGd,MAAME,EAAc,GACdC,EAAWR,EAAMS,KAAIC,IAAQ,EAAAC,EAAAC,iBAAgBF,KAEnDG,QAAQC,IAAIN,GAAUlB,MAAKyB,IACzB,IAAK,MAAMC,OAAEA,KAAYD,EACvBR,EAAYD,KAAKU,EAAO,IAG1B,GAAIC,OAAOC,SAASC,KAAKC,SAAS,aAAc,CAC9CC,EAAAC,WAAWC,KAAKC,iBAAiB,UACjC,SAA0BC,GACxBA,EAAEC,iBACF,IAAIC,EAAcF,EAAEG,cAAcC,SAAS,GAAGxB,MAC3CyB,OACAC,cACH,MAAMC,EAAiB,GACvBX,EAAAC,WAAWC,KAAKU,QAChB1B,EAAYJ,SAAQa,IACdA,EAAOkB,SAASH,cAAcX,SAASO,IACzCK,EAAe1B,KAAKU,EAAA,KAIxB,EAAAmB,EAAAC,MAAKJ,EACP,GACF,EAEA,EAAAG,EAAAC,MAAK7B,GACLf,EAAAC,KAAKC,aAAaC,YAAc,uBAClC,IAED0C,OAAMC,IACLC,QAAQC,IAAIF,EAAA,IAjDhBpB,SAASuB,QAAQ,iBAkDf,G","sources":["src/js/favorite-c.js"],"sourcesContent":["import { onAuthStateChanged } from '@firebase/auth';\nimport { auth } from './auth/api/auth';\nimport { main } from './pagination';\nimport { refs } from './gallery/refs/refs';\nimport { getCocktails } from './auth/api';\nimport { getCocktailById } from './modal-cocktail/api/api';\nimport { refsSearch } from './header/refs/search';\nimport './header';\nimport './modal-cocktail';\nimport './header/mob-menu.js';\n\nonAuthStateChanged(auth, user => {\n  if (!user) {\n    location.replace('/cocktail-bar/');\n  } else\n    getCocktails()\n      .then(response => {\n        refs.coctailTitel.textContent = 'Favorite cocktails';\n        if (!response) {\n          const markup = `<p class=\"no-added-message__text\">You haven't added any favorite cocktails yet</p>`;\n          document\n            .querySelector('.gallery.container')\n            .insertAdjacentHTML('beforeend', markup);\n          return;\n        }\n        const array = [];\n        Object.entries(response).forEach(([key, value]) => {\n          array.push(+value);\n        });\n\n        const arrayDrinks = [];\n        const promises = array.map(idEl => getCocktailById(idEl));\n\n        Promise.all(promises).then(data => {\n          for (const { drinks } of data) {\n            arrayDrinks.push(drinks[0]);\n          }\n\n          if (window.location.href.includes('favorites')) {\n            refsSearch.form.addEventListener('submit', onChangeFavInput);\n            function onChangeFavInput(e) {\n              e.preventDefault();\n              let searchQuery = e.currentTarget.elements[1].value\n                .trim()\n                .toLowerCase();\n              const arrayFavDrinks = [];\n              refsSearch.form.reset();\n              arrayDrinks.forEach(drinks => {\n                if (drinks.strDrink.toLowerCase().includes(searchQuery)) {\n                  arrayFavDrinks.push(drinks);\n                }\n              });\n\n              main(arrayFavDrinks);\n            }\n          }\n\n          main(arrayDrinks);\n          refs.coctailTitel.textContent = 'Favorite cocktails';\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n});\n"],"names":["$eMcUM","parcelRequire","onAuthStateChanged","$dWbaE","auth","user","$gaAvG","getCocktails","then","response","$lIxsd","refs","coctailTitel","textContent","markup","document","querySelector","insertAdjacentHTML","array","Object","entries","forEach","key","value","push","arrayDrinks","promises","map","idEl","$8wyQL","getCocktailById","Promise","all","data","drinks","window","location","href","includes","$jPJgY","refsSearch","form","addEventListener","e","preventDefault","searchQuery","currentTarget","elements","trim","toLowerCase","arrayFavDrinks","reset","strDrink","$jcFG7","main","catch","error","console","log","replace"],"version":3,"file":"favorites-c.06658ddb.js.map"}