{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,iECAAC,EAAAD,EAAA,S,qCAKAC,EAAAC,WAAWC,KAAKC,iBAAiB,UAEjC,SAAkBC,GAChBA,EAAEC,iBAEF,IAAIC,EAAcF,EAAEG,OAAOC,SAAS,GAAGC,MAAMC,QAC7C,EAAAC,EAAAC,sBAAqBN,GACrBN,EAAAC,WAAWC,KAAKW,OAClB,IAEAb,EAAAC,WAAWa,QAAQX,iBAAiB,SAEpC,SAAwBC,GACtBA,EAAEW,cAAcC,UAAUC,IAAI,aAC1Bb,EAAEW,cAAcC,UAAUE,SAAS,cACrCd,EAAEW,cAAcC,UAAUG,OAAO,aAE/BC,EAAAC,KAAKC,cACP,EAAAF,EAAAG,eACAC,SAASC,WAET,EAAAL,EAAAM,oBAEJ,I,kCDhBA,EAAA5B,EAAA6B,oBAAmBP,EAAAC,MAAMO,IAClBA,GAGH,EAAAC,EAAAC,gBACGC,MAAKC,IAGJ,GAFAC,EAAAC,KAAKC,aAAaC,YAAc,qBAChCC,QAAQC,IAAI,WAAYN,IACnBA,EAAU,CACb,MAAMO,EAAS,sDAIf,YAHAC,SACGC,cAAc,sBACdC,mBAAmB,YAAaH,EAErC,CACA,MAAMI,EAAQ,GAEdC,OAAOC,QAAQb,GAAUc,SAAQ,EAAEC,EAAKtC,MAEtCkC,EAAMK,MAAMvC,EAAA,IAId,MAAMwC,EAAc,GACdC,EAAWP,EAAMQ,KAAIC,IAAQ,EAAAC,EAAAC,iBAAgBF,KAEnDG,QAAQC,IAAIN,GAAUnB,MAAK0B,IAEzB,IAAK,MAAMC,OAAEA,KAAYD,EACvBR,EAAYD,KAAKU,EAAO,IAE1BrB,QAAQC,IAAIW,IACZ,EAAAU,EAAAC,MAAKX,GACLhB,EAAAC,KAAKC,aAAaC,YAAc,uBAClC,IAUDyB,OAAMC,IACLzB,QAAQC,IAAIwB,EAAA,IA3ChBtC,SAASuC,QAAQ,IA4Cf","sources":["src/js/favorite-c.js","src/js/header.js"],"sourcesContent":["import { onAuthStateChanged } from '@firebase/auth';\nimport { auth } from './auth/api/auth';\nimport { main } from './pagination';\nimport { refs } from './gallery/refs/refs';\nimport { getCocktails } from './auth/api';\nimport { getCocktailById } from './modal-cocktail/api/api';\nimport './header';\nimport './gallery';\nimport './modal-cocktail';\nimport './header/mob-menu.js';\n// import './modal-ingredient';\n\nonAuthStateChanged(auth, user => {\n  if (!user) {\n    location.replace('/');\n  } else\n    getCocktails()\n      .then(response => {\n        refs.coctailTitel.textContent = 'Favorite cocktails';\n        console.log('response', response);\n        if (!response) {\n          const markup = `<p>You haven't added any favorite cocktails yet</p>`;\n          document\n            .querySelector('.gallery.container')\n            .insertAdjacentHTML('beforeend', markup);\n          return;\n        }\n        const array = [];\n        //  Получаем массив масива\n        Object.entries(response).forEach(([key, value]) => {\n          //Добавить key from firebase\n          array.push(+value);\n          // console.log(array);\n        });\n        // получаем массив\n        const arrayDrinks = [];\n        const promises = array.map(idEl => getCocktailById(idEl));\n        // console.log(promises);\n        Promise.all(promises).then(data => {\n          // console.log(data);\n          for (const { drinks } of data) {\n            arrayDrinks.push(drinks[0]);\n          }\n          console.log(arrayDrinks);\n          main(arrayDrinks);\n          refs.coctailTitel.textContent = 'Favorite cocktails';\n        });\n        // array.map(idEl => {\n        //   console.log(idEl);\n        //   getCocktailById(idEl).then(({ drinks }) => {\n        //     for (const el of drinks) {\n        //       arrayDrinks.push(el);\n        //     }\n        //   });\n        // });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n});\n","import { refsSearch } from './header/refs/search';\nimport { searchCocktailsInput } from './header/api/search';\nimport { getUserId } from './auth/api';\nimport { auth, oNsignInWithPopup, signOutUser } from './auth/api/auth';\n\nrefsSearch.form.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  let searchQuery = e.target.elements[1].value.trim();\n  searchCocktailsInput(searchQuery);\n  refsSearch.form.reset();\n}\n\nrefsSearch.authBtn.addEventListener('click', onClickAuthBtn);\n\nfunction onClickAuthBtn(e) {\n  e.currentTarget.classList.add('is-active');\n  if (e.currentTarget.classList.contains('is-active')) {\n    e.currentTarget.classList.remove('is-active');\n  }\n  if (auth.currentUser) {\n    signOutUser();\n    location.reload();\n  } else {\n    oNsignInWithPopup();\n  }\n}\n"],"names":["$1iO0g","parcelRequire","$29EdN","refsSearch","form","addEventListener","e","preventDefault","searchQuery","target","elements","value","trim","$atLwq","searchCocktailsInput","reset","authBtn","currentTarget","classList","add","contains","remove","$fy93h","auth","currentUser","signOutUser","location","reload","oNsignInWithPopup","onAuthStateChanged","user","$fvTqB","getCocktails","then","response","$1lZvt","refs","coctailTitel","textContent","console","log","markup","document","querySelector","insertAdjacentHTML","array","Object","entries","forEach","key","push","arrayDrinks","promises","map","idEl","$ds8KB","getCocktailById","Promise","all","data","drinks","$2nhTy","main","catch","error","replace"],"version":3,"file":"favorites-c.e31fa4d1.js.map"}